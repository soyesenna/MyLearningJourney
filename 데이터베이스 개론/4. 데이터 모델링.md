--- 
## 데이터 모델링과 데이터 모델의 개념

- 현실 세계에 존재하는 데이터를 컴퓨터 세계의 데이터베이스로 옮기는 변환 과정을 보통 데이터 모델링이라 한다
- 데이터베이스에 저장하여 관리할 만한 가치가 있는 중요 데이터를 찾아내는 작업을 추상화라고 한다
- 현실 세계에서 코끼리에 대한 중요 데이터를 추출하여 개념 세계로 옮기는 작업을 데이터 모델링 과정 중에서도 개념적 모델링이라 한다
- 개념 세계의 데이터를 데이터베이스에 저장할 구조를 결정하고 이 구조로 표현하는 작업을 논리적 모델링 이라한다
- 일반적으로 개념적 모델링과 논리적 모델링을 명확히 구분하지는 않고 합쳐서 데이터 모델링이라 부른다
- 데이터 모델링은 데이터베이스 설계의 핵심 과정이며 매우 어려운 과정이다
	- 이 데이터 모델링을 쉽게 할 수 있도록 도와주는 도구를 데이터 모델이라고 부른다
- 데이터 모델은 데이터 모델링의 결과물을 표현하는 도구로, 개념적 데이터 모델과 논리적 데이터 모델이 있다
- 개념적 데이터 모델은 사람의 머리로 이해할 수 있도록 현실 세계를 개념적 데이터 모델링하여 데이터베이스의 개념적 구조로 표현하는 도구다
- 논리적 데이터 모델은 개념적 구조를 논리적 데이터 모델링하여 데이터베이스의 논리적 구조로 표현하는 도구다
- 일반적으로 데이터 모델은 데이터 구조, 연산, 제약조건으로 구성된다
- 데이터 모델에서는 보동 데이터 구조를 강조하지만, 적용 가능한 연산과 제약조건도 이해할 필요가 있다
- 개념적 데이터 모델에서 데이터 구조는 현실 세계를 개념 세계로 추상화 했을 때 어떤 요소로 이루어져 있는지를 표현하는 개념적 구조다
- 그리고 논리적 데이터 모델이서 데이터 구조는 데이터를 어떤 모습으로 저장할 것인지를 표현하는 논리적 구조다
	- 보통 데이터 구조는 자주 변하지 않고 정적이라는 특징이 있다
- 연산은 데이터 구조에 따라 개념 세계나 컴퓨터 세계에서 실제로 표현된 값들을 처리하는 작업으로, 값이 연산에 의해 계속 변경될 수 있으므로 동적이라는 특징이 있다
- 데이터 무결성 유지를 위한 제약조건에는 구조적 측면의 제약 사항과 연산을 적용하는 경우 허용할 수 있는 의미적 측명의 제약사항이 있다
![](https://i.imgur.com/B10cEIs.png)

- 보통 개념적 데이터 모델링과 논리적 데이터 모델링을 통틀어 데이터베이스 설계라고한다
- 데이터 모델링 과정을 통해 논리적 구조가 결정되면, 컴퓨터 저장 장치에 실제로 저장되는 형태를 의미하는 물리적 구조로 변환하는 작업을 통해 현실 세계의 데이터를 컴퓨터 세계의 데이터로 저장한다
- 개념적 데이터 모델링과 논리적 데이터 모델링 작업을 지원하는 다양한 데이터 모델이 존재하는데, 사용하는 데이터 모델에 따라 현실 세계를 표현하는 개념적 구조나 논리적 구조의 모습이 달라진다
- 논지럭 데이터 모델로는 관계 데이터 모델이 가장 많이 사용된다

--- 
## 개체-관계 모델

- 개체-관계 모델은 게체(entity)와 개체 간의 관계(relationship)을 이용해 현실 세곌를 개념적 구조로 표현하는 방법이다
- 현실 세계를 개체-관계 모델을 이용해 개념적으로 모델링하여 그림으로 표현한 것을 개체-관계 다이어그램 또는 E-R다이어그램 이라고 한다

- 개체
	- 개체(entity)는 현실 세계에서 조직을 운영하는데 꼭 필요한 사람이나 사물과 같이 구별되는 모든 것을 의미한다
		- 즉, 개체는 저장할 만한 가치가 있는 중요 데이터를 가지고 있는 사람이나 사물 등이며, 개념적 모델링을 하는데 가장 중요한 요소다
		- 개체는 사람과 사물처럼 물리적으로 존재하는 것만을 의미하지는 않는다
			- 개념이나 사건처럼 개념적으로만 존재하는 것도 개체가 될 수 있다
			- ex) 학과, 과목
	- 개체는 다른 개체와 구별되는 이름을 가지고 있고, 각 개체만의 고유한 특성이나 상태, 즉 속성을 하나 이상 가지고 있다
	- 개체를 고유한 이름과 속성들로 정의한 것을 개체 타입이라 한다
		- 예를 들어 서점의 고객 개체가 이름, 주소, 연락처, 적립금의 속성으로 구성된다면 고객 개체 타입을 다음과 같이 정의할 수 있다
	![](https://i.imgur.com/l5XWqUa.png)
	- 개체를 구성하고 있는 속성이 실제 값을 가짐으로써 실체화된 개체를 개체 인스턴스 또는 개체 어커런스 라고 한다
	- 개체 인스턴스는 여러개가 존재할 수 있다
	- 특정 개체 타입에 대한 개체 인스턴스들을 모아놓은 것을 개체 집합이라 한다
	- 데이터베이스에서 실제로 저장하고 관리하는 것이 이 개체 인스턴스들의 모임인 개체 집합이라 할 수 있다
	- 개체와 속성은 파일 구조에서 레코드와 필드 용어에 대응된다
	- 그리고 개체 타입은 레코드 타입에, 개체 인스턴스는 레코드 인스턴스에 대응된다
	- E-R다이어그램에서 개체를 사각형으로 표현하고 사각형 안에 개체의 이름을 표기한다
	![](https://i.imgur.com/jjWgSHv.png)

- 속성
	- 속성(attribute)은 개체가 가지고 있는 고유한 특성이다
	- 속성은 그 ㅈ다체만으로는 의미가 없지만 관련있는 속성들을 모아 개체를 구성하면 하나의 중요한 의미를 표현할 수 있다
	- 속성은 일반적으로 의미 있는 데이터의 가장 작은 논리적 단위로 인식된다
	- E-R다이어그램에서 속성은 타원으로 표현하고, 타원 안에 속성의 이름을 표시한다
	![](https://i.imgur.com/zysHTlq.png)
	- 속성은 다음과 같이 다양한 기준으로 분류할 수 있다
	![](https://i.imgur.com/Trd1YX5.png)
	- 단일 값 속성과 다중 값 속성
		- 특정 개체를 구성하는 속성 값이 하나면 단일 값 속성(single-valued attribute)으로 분류한다
			- 이름, 적립금등
		- 속성이 값을 여러개 가질 수 있으면 다중 값 속성(multi-valued attribute)으로 분류한다
			- 고객 개체를 구성하는 연락처 속성은 한 명의 고객 인스턴스에 대해 집 전화번호와 휴대폰번호 등 값을 여러 개 가질 수 있으므로 다중 값 속성이다
			- 책 저자 또한 여러명일 수 있으므로 다중 값 속성이다
		- 다중 값 속성은 이중 타원으로 표현한다
	![](https://i.imgur.com/wa95CBl.png)

	- 단순 속성과 복합 속성
		- 단순 속성(simple attribute)은 의미를 더는 분해할 수 없는 속성이다
			- 즉, 단순 속성의 값은 의미가 하나다
			- 고객 개체를 구성하는 적립금 속성은 의미가 더는 분해되지 않기 때문에 단순속성
		- 복합 속성(composite attribute)은 의미를 분해할 수 있어 값이 여러 개의 의미를 포함한다
			- 고객 개체를 구성하는 주소 속성은 도, 시, 동, 우편번호 등으로 의미를 나눌 수 있다
		- 복합 속성은 단순 속성이 여러개 모여 만들어진 속성으로 볼 수 있다
			- 하지만 일반적으로 주소나 생년월일은 값이 전체 단위로 입력되거나 검색되고, 의미가 세부적으로 나뉘지는 않는다
		- 복합 속성은 E-R다이어그램에서 다음과 같이 표현된다
		![](https://i.imgur.com/2ovZH5J.png)

	- 유도 속성
		- 값이 별도로 저장되는 것이 아니라 기존의 다른 속성 값에서 유도되어 걸정되는 속성을 유도 속성(derived attribute)으로 분류한다
			- 책 개체를 구성하는 가격과 할인율 속성으로 계산되는 판매 가격 속성이 유도 속성이다
		- 유도 속성인 판매 가격 속성을 계산하는데 사용되는 가격과 할인율 같은 속성을 저장 속성(stored attribute)라고 한다
			- 저장 속성인 출생년도에서 나이 속성을 유도하는 것도 이에 속한다
		- 실제로 값을 저장하고 있는 것은 저장 속성이고, 유도 속성은 필요할 때 마다 계산되므로 값을 따로 저장할 필요가 없다
		- 유도 속성은 E-R다이어그램에서 점선 타원으로 표현한다
		![](https://i.imgur.com/txYcSH3.png)

	- 널 속성
		- 널(null)값은 아직 결정되지 않았거나 모르는 값을 의미한다
		- 또는 해당되는 값이 없는, 즉 존재하지 않는 값의 경우도 널 값이라 한다
		- 이처럼 널 값은 값을 아직 갖지 않은 것이므로 공백이나 0과는 다르다
		- 널 값이 허용되는 속성을 널 속성이라 한다
	- 키 속성
		- 키 속성은 모든 개체 인스턴스가 값이 다르므로 키 속성은 개체 집합에 존재하는 각 개체 인스턴스들을 식별하는데 사용된다
			- 고객 개체의 고객 아이디, 책 개체의 ISBN
		- 키 속성은 간단히 키 라고 한다
		- 키를 둘 이상의 속성들로 구성하기도 한다
		- 개체 타입을 정의할 때 중요한 제약 조건은 키 속성의 값이 개체 인스턴스마다 달라서 이 값으로 개체 인스턴스를 식별할 수 있어야 한다는 것이다
		- 만약 키 속성으로 적합한 속성이 여러개면 이 중 하나를 사용한다
		- 키 속성은 E-R다이어그램에서 밑줄을 그어 표시한다
		![](https://i.imgur.com/9ogMM9p.png)

- 관계
	- 관계(relationship)는 개체와 개체가 맺고 있는 의미 있는 연관성으로, 개체-관계 모델의 주용한 요소다
	- 관계는 개체 집합들 사이의 대응관계(correspondence), 즉 매핑을 의미한다
	- 업무 처리에 대한 요구사향을 개체들을 이용해 하나의 문장으로 만들었을 때 동사에 해당하는 것이 관계다
		- 고객은 책을 구매한다 에서 구매가 관계다
		- 관계를 고려하지 앟ㄴ으면 책을 구매한 고객에 대한 데이터나 특정 고객이 구매한 책에 대한 데이터를 검색할 수 없다
		- 관계를 통해서만 개체들 간의 연관성을 이용한 업무를 처리할 수 있다
	- 관계를 여러 개체(타입)사이에서 정의되는 관계 타입과 실제 속성 값으로 구성된 특정 개체 인스턴스들 간에 맺어진 실제 관계인 관계 인스턴스로 구분하여 표현하기도 한다
	- 관계도 개체처럼 속성을 가질 수 있다
		- 관계를 맺음으로써 발생하는 중요한 데이터들이 관계의 속성이 된다
		- 고객이 책을 구매하면 발생하는 구매일자, 결제 방식등이 구매 관계의 속성이 될 수 있다
	- 관계는 E-R다이어그램에서 마름모로 표현한다
	![](https://i.imgur.com/if0UTBI.png)

	- 관계의 유형
		- 관계도 다양한 기준에 따라 분류할 수 있다
		- 우선, 관계에 참여하는 개체 타입의 수를 기준으로 이항 관계, 삼항 관계, 순환 관계 등으로 나눌 수 있다
			- 이항 관계는 개체 타입 2개가 맺는 관계이고, 삼항 관계는 개체 타입 3개가 맺는 관계다
			- 순환 관계는 개체 타입 1개가 자기 자신과 맺는 관계다
		- 데이터베이스 설계 과정에서 중요하게 활용되는 관계의 분류 기준은 매핑 원소의 수, 즉 매핑 카디널리티(mapping cardinality)다
		- 매핑 카디널리티는 관계를 맺는 두 개체 집합에서, 각 개체 인스턴스가 연관성을 맺고 있는 상대 개체 집합의 인스턴스 개수를 의미한다
			- 관계는 매핑 카디널리티를 기준으로 1:1, 1:n(1대다), n:n(다대다)라는 세가지 유형으로 분류할 수 있다
		- 1 : 1 관계
			- 개체 A의 각 개체 인스턴스가 개체 B의 개체 인스턴스 하나와 관계를 맺을 수 있고, 개체 B의 각 개체 인스턴스도 개체 A의 개체 인스턴스 하나와 관계를 맺을 수 있다면 두 개체의 관계는 1:1관계다
				- 부부관계
			![](https://i.imgur.com/3fb2b6K.png)
			- 1 : n관계
				- 개체 A의 각 개체 인스턴스는 개체 B의 개체 인스턴스 여러 개와 관계를 맺을 수 있지만, 개체 B의 각 개체 인스턴스는 개체 A의 개체 인스턴스 하나와만 관계를 맺을 수 있다면 두 개체는 1:n관계다
					- 부서개체와 사원개체
				![](https://i.imgur.com/Ns7Tqeu.png)

			- n:n관계
				- 개체 A각 개체 인스턴스가 개체 B의 개체 인스턴스 여러 개와 관계를 맺을 수 있고, 개체 B의 각 개체 인스턴스도 개체 A의 개체 인스턴스 여러개와 관계를 맺을 수 있다면 두 개체는 n:n관계다
					- 고객 개체와 책 개체
				![](https://i.imgur.com/suZ45pL.png)

	- 관계의 참여 특성
		- 개체 A와 B사이의 관계에서, 개체 A의 모든 개체 인스턴스가 관계에 반드시 참여해야 된다면 개체 A가 관계에 필수적 참여한다 또는 전체 참여한다 라고 한다
		- 개체 A의 개체 인스턴스중 일부만 관계에 참여해도 되면 개체 A가 관계에 선택적 참여한다 또는 부분 참여 한다 라고 한다
			- 고객 개체와 책 개체 사이의 구매 관계에서 모든 고객이 책을 반드시 구매해야 한다는 제약 조건이 존재한다면, 고객 개체가 구매 관계에 필수적 참여한다고 할 수 있다
			- 반대로 고객이 구매하지 않은 책이 존재할 수 있다면 책 개체가 구매 관계에 선택적 참여한다고 할 수 있다
		- 필수적 참여 관계는 E-R다이어 그램에서 이중 선으로 표현한다
		![](https://i.imgur.com/XG91VoT.png)
	- 관계의 종속성
		- 두 개체가 관계에 대해 종속적인 특징을 가지는 경우도 있다
		- 개체 B가 독자적으로는 존재할 수 없고 다른 개체 A의 존재 여부에 의존적이라면, 개체 B가 개체 A에 종속되어 있다고 한다
		- 개체 B가 개체 A에 종속되면, 이는 개체 A가 존재해야 개체 B가 존재할 수 있고 개체 A가 삭제되면 개체 B도 함께 삭제되어야함을 의미한다
			- 이러한 종속을 특별히 존재 종속(existence dependece)라고 한다
			- 이때 다른 개체의 존재 여부에 의존적인 개체B를 약한 개체, 다른 개체의 존재 여부를 결정하는 개체 A를 강한 개체라 한다
		- 두 개체가 종속적인 관계를 맺고 있어 약한 개체를 종속 개체로, 강한 개체를 오너 개체로 부르기도 한다
		- 강한 개체와 약한 개체는 일반적으로 일대다의 관계이며, 약한 개체는 강한 개체와의 관계에 필수적으로 참여한다는 특징이 있다
		- 약한 개체는 자신이 지닌 속성만으로는 식별이 어려워 일반적으로 강한 개체의 키를 포함하여 구성한다
			- 약한 개체를 구별해주는 속성을 구별자(delimiter) 도는 부분키(parttial key)라고 한다
		- 약한 개체는 E-R다이어그램에서 이중 사각형으로 표현하고 약한 개체가 강한 개체와 맺는 고ㅓㅏㄴ계는 이중 마름모로 표현한다
		![](https://i.imgur.com/4DjyMWW.png)

- E-R다이어그램
	- E-R다이어그램은 개체-관계 모델을 이용해 현실 세계를 개념적으로 모델링한 결과물을 그림으로 표혆나 것이다
	- E-R다이어그램은 기본적으로 개체를 표현하는 사각형, 개체 간의 관계를 표현하는 마름모, 개체나 관계의 속성을 표현하는 타원, 각 요소를 연결하는 링크(연결선)로 구현된다
	- 그리고 1:1, 1:n, n:m관계를 레이블로 표기한다
![](https://i.imgur.com/4o5i4ZG.png)

--- 
## 논리적 데이터 모델

- 논리적 데이터 모델의 개념과 특성
	- 개체-관계 모델은 현실 세계를 사람들의 머릿속에 그릴 수 있는 개념적인 구조로 모델링하는데 사용하므로 어떤 데이터베이스 관리 시스템으로 데이터베이스릘 구축하든 상관이 없다
	- 하지만 E-R다이어그램으로 표현된 개념적인 구조를 데이터베이스에 표현하는 형태를 결정하는 논리적 데이터 모델링에서는 데이터 베이스 관리 시스템 종류가 중요하다
	- 사용자 입장에서 선택한 데이터베이스 관리 시스템에 따라 E-R다이어그램으로 표현된 개념적 구조를 데이터베이스에 어떤 형태로 저장할지를 논리적으로 표ㅕ현하는데, 이러한 논리적인 구조를 논리적 데이터 모델이라 한다
		- 즉, 논리적 데이터 모델은 논리적 데이터 모델링의 결과물이고, 사용자가 생각하는 데이터베이스의 모습 또는 구조다
	- 논리적 데이터 모델로 표현된 데이터베이스의 논리적 구조가 바로 데이터베이스 스키마다
	- 계층 데이터모델과 네트워크 데이터 모델을 살펴보자(관계 데이터 모델은 5장)

	- 계층 데이터 모델
		- 데이터베이스의 논리적 구조가 트리 형태
		- 일대다 관계만 표현 가능
		- 두 개체 사이에 관계를 하나만 정의할 수 있어 관계에 이름을 붙여 구별할 필요가 없다
		- 계층 데이터 모델에서는 다대다 관계를 직접 표현할 수 없어 별도의 개체를 추가로 생성하여 이를 표현한다
			- 고객 개체와 책 사이의 다대다 관계를 나타내기위해 구입 도서 개체를 추가로 만들어 표현
	- 네트워크 데이터 모델